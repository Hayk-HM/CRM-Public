(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{226:function(e,t,a){},348:function(e,t,a){},349:function(e,t,a){},382:function(e,t){},406:function(e,t,a){},407:function(e,t,a){},408:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(12),c=a.n(i),o=a(16),s=a(22),l=a(13),d=a(21),u=(a(226),a(44)),j=a(31),m=a(8),h=a(440),b=a(470),p=a(80),x=a(469),O=a(472),f=a(446),g=a(448),v=a(19),y=a.n(v),w=a(32),N=a(197),k=a.n(N).a.create({baseURL:"https://hv-crm.herokuapp.com"});k.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.Authorization="Bearer ".concat(JSON.parse(localStorage.getItem("profile")).token)),e}));var C,S=function(e){return k.post("auth/signup",e)},T=function(e){return k.post("auth/signupEmployee",e)},B=function(e){return k.post("auth/signin",e)},A=function(e){return k.get("users/getusers?company=".concat(e))},I=function(e,t){return k.post("users/updateuser/".concat(e),t)},q=function(e){return k.post("task/createtask",e)},D=function(e,t){return k.patch("task/updatetask/".concat(t),e)},E=function(e){return k.get("task/gettasks?company=".concat(e))},W=function(e){return k.post("/chat/createmessage",e)},_=function(e){return k.get("/chat/getchat?company=".concat(e))},P=function(e){return{type:"SIGN_UP",formData:e}},F=function(e){return{type:"SIGN_IN",formData:e}},U=function(){return{type:"LOGOUT"}},R=a(1),z=function(){var e=Object(o.b)(),t=Object(d.g)();return Object(R.jsxs)(h.a,{component:"main",maxWidth:"xs",children:[Object(R.jsxs)(u.a,{children:[" ",Object(R.jsx)("title",{children:"Create new Company"})," "]}),Object(R.jsx)(j.a,{enableReinitialize:!0,initialValues:{email:"",firstName:"",lastName:"",password:"",policy:!1},validationSchema:m.b().shape({email:m.d().email("Must be a valid email").max(255).required("Email is required"),firstName:m.d().max(255).required("First name is required"),lastName:m.d().max(255).required("Last name is required"),password:m.d().max(255).required("Password is required"),confirmPassword:m.d().oneOf([m.c("password"),null],"Passwords must match"),company:m.d().max(255).required("Company is required"),policy:m.a().oneOf([!0],"This field must be checked")}),onSubmit:function(a){e(function(e,t){return function(){var a=Object(w.a)(y.a.mark((function a(r){var n,i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,S(e);case 3:n=a.sent,i=n.data,r(P(i)),t.push("/main/task"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("signUpAction",a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(a,t))},children:function(e){var t=e.errors,a=e.handleBlur,r=e.handleChange,n=e.isSubmitting,i=e.touched,c=e.values,o=e.handleSubmit;return Object(R.jsxs)("form",{onSubmit:o,children:[Object(R.jsxs)(b.a,{sx:{mb:3},children:[Object(R.jsx)(p.a,{color:"textPrimary",variant:"h2",align:"center",children:" Create new company "}),Object(R.jsx)(p.a,{color:"textSecondary",gutterBottom:!0,variant:"body2",align:"center",children:" Use your email to create new account"})]}),Object(R.jsx)(x.a,{error:Boolean(i.firstName&&t.firstName),fullWidth:!0,helperText:i.firstName&&t.firstName,label:"First name",margin:"normal",name:"firstName",onBlur:a,onChange:r,value:c.firstName,variant:"outlined"}),Object(R.jsx)(x.a,{error:Boolean(i.lastName&&t.lastName),fullWidth:!0,helperText:i.lastName&&t.lastName,label:"Last name",margin:"normal",name:"lastName",onBlur:a,onChange:r,value:c.lastName,variant:"outlined"}),Object(R.jsx)(x.a,{error:Boolean(i.email&&t.email),fullWidth:!0,helperText:i.email&&t.email,label:"Email Address",margin:"normal",name:"email",onBlur:a,onChange:r,type:"email",value:c.email,variant:"outlined"}),Object(R.jsx)(x.a,{error:Boolean(i.company&&t.company),fullWidth:!0,helperText:i.company&&t.company,label:"Company",margin:"normal",name:"company",onBlur:a,onChange:r,type:"company",value:c.company,variant:"outlined"}),Object(R.jsx)(x.a,{error:Boolean(i.password&&t.password),fullWidth:!0,helperText:i.password&&t.password,label:"Password",margin:"normal",name:"password",onBlur:a,onChange:r,type:"password",value:c.password,variant:"outlined"}),Object(R.jsx)(x.a,{error:Boolean(i.confirmPassword&&t.confirmPassword),fullWidth:!0,helperText:i.confirmPassword&&t.confirmPassword,label:"Confirm Password",margin:"normal",name:"confirmPassword",onBlur:a,onChange:r,type:"password",value:c.confirmPassword,variant:"outlined"}),Object(R.jsxs)(b.a,{sx:{alignItems:"center",display:"flex",ml:-1},children:[Object(R.jsx)(O.a,{checked:c.policy,name:"policy",onChange:r}),Object(R.jsxs)(p.a,{color:"textSecondary",variant:"body1",children:["I have read the"," ",Object(R.jsx)(s.b,{color:"primary",component:s.b,to:"#",underline:"always",variant:"body1",children:"Terms and Conditions"})]})]}),Boolean(i.policy&&t.policy)&&Object(R.jsx)(f.a,{error:!0,children:t.policy}),Object(R.jsx)(b.a,{sx:{py:2},children:Object(R.jsx)(g.a,{color:"primary",disabled:n,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Sign up now"})})]})}})]})},L=function(){var e=Object(o.b)(),t=Object(d.g)();return Object(R.jsxs)(h.a,{maxWidth:"xs",component:"main",children:[Object(R.jsxs)(u.a,{children:[" ",Object(R.jsx)("title",{children:"Log in"})," "]}),Object(R.jsx)(j.a,{enableReinitialize:!0,initialValues:{email:"",password:""},validationSchema:m.b().shape({email:m.d().email("Must be a valid email").max(255).required("Email is required"),password:m.d().max(255).required("password is required")}),onSubmit:function(a,r){var n=r.resetForm;e(function(e,t){return function(){var a=Object(w.a)(y.a.mark((function a(r){var n,i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,B(e);case 3:n=a.sent,i=n.data,r(F(i)),t.push("/main/task"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("signInAction",a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(a,t)),n({values:""})},children:function(e){var t=e.errors,a=e.handleBlur,r=e.handleChange,n=e.isSubmitting,i=e.touched,c=e.values,o=e.handleSubmit;return Object(R.jsxs)("form",{onSubmit:o,children:[Object(R.jsx)(b.a,{sx:{mb:3},children:Object(R.jsx)(p.a,{color:"textPrimary",variant:"h2",align:"center",children:" Log In "})}),Object(R.jsx)(x.a,{error:Boolean(i.email&&t.email),fullWidth:!0,helperText:i.email&&t.email,label:"Email Address",margin:"normal",name:"email",onBlur:a,onChange:r,type:"email",value:c.email,variant:"outlined"}),Object(R.jsx)(x.a,{error:Boolean(i.password&&t.password),fullWidth:!0,helperText:i.password&&t.password,label:"Password",margin:"normal",name:"password",onBlur:a,onChange:r,type:"password",value:c.password,variant:"outlined"}),Boolean(i.policy&&t.policy)&&Object(R.jsxs)(f.a,{error:!0,children:[" ",t.policy," "]}),Object(R.jsx)(b.a,{sx:{py:2},children:Object(R.jsx)(g.a,{color:"primary",disabled:n,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Sign up now"})})]})}})]})},G=(a(348),function(){return Object(R.jsxs)("div",{className:"description",children:[Object(R.jsx)("h3",{className:"mainTitle",children:" What you will have with us "}),Object(R.jsx)("h5",{className:"title",children:" Tasks "}),Object(R.jsx)("div",{className:"text",children:" Create tasks and take control of your entire business "}),Object(R.jsx)("h5",{className:"title",children:" Chat "}),Object(R.jsx)("div",{className:"text",children:" Create chat and communicate with colleagues "})]})}),M=a.p+"static/media/logo.7da89f0e.png",J=(a(349),function(){var e=Object(d.g)(),t=Object(r.useState)(JSON.parse(localStorage.getItem("profile"))),a=Object(l.a)(t,2),n=a[0];a[1];return Object(R.jsxs)("div",{className:"navBar",children:[Object(R.jsx)("div",{className:"logo",children:Object(R.jsx)(s.b,{to:"/home",children:Object(R.jsx)("img",{src:M,alt:"logo"})})}),Object(R.jsx)("div",{className:"loginLogout",children:(null===n||void 0===n?void 0:n.token)?Object(R.jsx)("button",{className:"btn",onClick:function(){localStorage.removeItem("profile"),e.push("/home")},children:" Log Out "}):Object(R.jsx)("button",{className:"btn",onClick:function(){e.push("/home/signin")},children:" Sign in "})})]})}),H=function(){return Object(R.jsxs)("div",{className:"mainInfoBar",children:[Object(R.jsx)("div",{children:Object(R.jsx)(J,{})}),Object(R.jsxs)("div",{className:"infoBar",children:[Object(R.jsx)(G,{}),Object(R.jsx)("div",{children:Object(R.jsxs)(d.d,{children:[Object(R.jsx)(d.b,{path:"/home/signin",render:function(){return Object(R.jsx)(L,{})}}),Object(R.jsx)(d.b,{path:"/home",render:function(){return Object(R.jsx)(z,{})}})]})})]})]})},V=a(463),K=a(477),X=a(464),Q=a(465),Y=a(450),Z=a(475),$=a(445),ee=a(411),te=a(466),ae=a(467),re=a(471),ne=a(449),ie=Object(ne.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},buttons:{marginTop:e.spacing(2)},button:{margin:e.spacing(2)},rootGrid:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}}})),ce=function(){var e=ie(),t=Object(d.g)();return Object(R.jsxs)(Y.a,{container:!0,className:e.rootGrid,children:[Object(R.jsx)(Y.a,{className:e.root,item:!0,children:Object(R.jsx)(re.a,{elevation:6,variant:"filled",severity:"success",children:"Registration completed successfully!"})}),Object(R.jsxs)(Y.a,{item:!0,className:e.buttons,children:[Object(R.jsx)(g.a,{variant:"contained",color:"primary",className:e.button,onClick:function(){t.push("/main/register")},children:"Continue registration"}),Object(R.jsx)(g.a,{variant:"contained",color:"primary",onClick:function(){t.push("/main/task")},children:"Go to task"})]})]})},oe=Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-users",children:[Object(R.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),Object(R.jsx)("circle",{cx:"9",cy:"7",r:"4"}),Object(R.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),Object(R.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),se=Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-user-plus",children:[Object(R.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),Object(R.jsx)("circle",{cx:"8.5",cy:"7",r:"4"}),Object(R.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),Object(R.jsx)("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),le=Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-settings",children:[Object(R.jsx)("circle",{cx:"12",cy:"12",r:"3"}),Object(R.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),de=Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-user",children:[Object(R.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),Object(R.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),ue=Object(R.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-message-circle",children:Object(R.jsx)("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),je=Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-clipboard",children:[Object(R.jsx)("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),Object(R.jsx)("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})]}),me=a(100),he=a.n(me),be=a(474),pe=a(451),xe=Object(ne.a)((function(e){return{fab:{margin:e.spacing(2)}}})),Oe=function(){var e=xe(),t=Object(d.g)();return Object(R.jsx)(be.a,{title:"Add","aria-label":"add",onClick:function(){t.push("/main/register")},children:Object(R.jsx)(pe.a,{color:"primary",className:e.fab,children:Object(R.jsx)(he.a,{})})})},fe=a(101),ge=a.n(fe),ve=a(452),ye=a(453),we=a(454),Ne=Object(ne.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},large:{width:e.spacing(7),height:e.spacing(7),marginRight:e.spacing(2)}}})),ke=function(e){e.photo;var t=e.fullName,a=e.email,r=e.location,n=e.phone,i=e.store,c=Ne();return Object(R.jsx)(ve.a,{className:c.tableContainer,children:Object(R.jsxs)(ye.a,{hover:!0,children:[Object(R.jsx)(we.a,{children:Object(R.jsx)(Z.a,{alt:"Remy Sharp",src:M,className:c.large})}),Object(R.jsx)(we.a,{children:Object(R.jsx)(p.a,{children:t})}),Object(R.jsx)(we.a,{children:Object(R.jsx)(p.a,{children:a})}),Object(R.jsx)(we.a,{children:Object(R.jsx)(p.a,{children:r})}),Object(R.jsx)(we.a,{children:Object(R.jsx)(p.a,{children:n})}),Object(R.jsx)(we.a,{children:Object(R.jsx)(p.a,{children:i})})]})})},Ce=a(455),Se=a(456),Te=a(457),Be=a(458),Ae=function(){var e=Object(o.c)((function(e){return e.users}));return Object(R.jsxs)(b.a,{container:!0,children:[Object(R.jsx)(Y.a,{element:!0,align:"center",children:Object(R.jsx)(Oe,{})}),Object(R.jsx)(Y.a,{children:Object(R.jsx)(Ce.a,{children:Object(R.jsx)(ge.a,{children:Object(R.jsx)(Se.a,{children:Object(R.jsxs)(Te.a,{children:[Object(R.jsx)(Be.a,{children:Object(R.jsxs)(ye.a,{children:[Object(R.jsx)(we.a,{children:"Photo"}),Object(R.jsx)(we.a,{children:"Name"}),Object(R.jsx)(we.a,{children:"Email"}),Object(R.jsx)(we.a,{children:"Location"}),Object(R.jsx)(we.a,{children:"Phone"}),Object(R.jsx)(we.a,{children:"Store"})]})}),e.map((function(e){return Object(R.jsx)(ke,{photo:e.photo,fullName:e.fullName,email:e.email,location:e.location,phone:e.phone,store:e.store})}))]})})})})})]})},Ie=a(27),qe=a(459),De=function(){var e=Object(o.b)(),t=Object(d.g)(),a=JSON.parse(localStorage.getItem("profile")).result.company;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(u.a,{children:[" ",Object(R.jsx)("title",{children:"Register | Material Kit"})," "]}),Object(R.jsx)(b.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(R.jsx)(h.a,{maxWidth:"sm",children:Object(R.jsx)(j.a,{enableReinitialize:!0,initialValues:{email:"",firstName:"",lastName:"",password:"",confirmPassword:"",policy:!1},validationSchema:m.b().shape({email:m.d().email("Must be a valid email").max(255).required("Email is required"),firstName:m.d().max(255).required("First name is required"),lastName:m.d().max(255).required("Last name is required"),password:m.d().max(255).required("password is required"),confirmPassword:m.d().oneOf([m.c("password"),null],"Passwords must match"),policy:m.a().oneOf([!0],"This field must be checked")}),onSubmit:function(r,n){e(function(e,t){return function(){var a=Object(w.a)(y.a.mark((function a(r){return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,T(e);case 3:t.push("/main/RegistrationSuccess"),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),console.log("signupEmployeeAction",a.t0);case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}()}(Object(Ie.a)(Object(Ie.a)({},r),{},{company:a}),t))},children:function(e){var t=e.errors,a=e.handleBlur,r=e.handleChange,n=e.isSubmitting,i=e.touched,c=e.values,o=e.handleSubmit;return Object(R.jsxs)("form",{onSubmit:o,children:[Object(R.jsxs)(b.a,{sx:{mb:3},children:[Object(R.jsx)(p.a,{color:"textPrimary",variant:"h2",children:" Create new account "}),Object(R.jsx)(p.a,{color:"textSecondary",gutterBottom:!0,variant:"body2",children:"Use your email to create new account"})]}),Object(R.jsx)(x.a,{error:Boolean(i.firstName&&t.firstName),fullWidth:!0,helperText:i.firstName&&t.firstName,label:"First name",margin:"normal",name:"firstName",onBlur:a,onChange:r,value:c.firstName,variant:"outlined"}),Object(R.jsx)(x.a,{error:Boolean(i.lastName&&t.lastName),fullWidth:!0,helperText:i.lastName&&t.lastName,label:"Last name",margin:"normal",name:"lastName",onBlur:a,onChange:r,value:c.lastName,variant:"outlined"}),Object(R.jsx)(x.a,{error:Boolean(i.email&&t.email),fullWidth:!0,helperText:i.email&&t.email,label:"Email Address",margin:"normal",name:"email",onBlur:a,onChange:r,type:"email",value:c.email,variant:"outlined"}),Object(R.jsx)(x.a,{error:Boolean(i.password&&t.password),fullWidth:!0,helperText:i.password&&t.password,label:"Password",margin:"normal",name:"password",onBlur:a,onChange:r,type:"password",value:c.password,variant:"outlined"}),Object(R.jsx)(x.a,{error:Boolean(i.confirmPassword&&t.confirmPassword),fullWidth:!0,helperText:i.confirmPassword&&t.confirmPassword,label:"Confirm Password",margin:"normal",name:"confirmPassword",onBlur:a,onChange:r,type:"password",value:c.confirmPassword,variant:"outlined"}),Object(R.jsxs)(b.a,{sx:{alignItems:"center",display:"flex",ml:-1},children:[Object(R.jsx)(O.a,{checked:c.policy,name:"policy",onChange:r}),Object(R.jsxs)(p.a,{color:"textSecondary",variant:"body1",children:["I have read the"," ",Object(R.jsx)(qe.a,{color:"primary",component:s.b,to:"#",underline:"always",variant:"body1",children:"Terms and Conditions"})]})]}),Boolean(i.policy&&t.policy)&&Object(R.jsxs)(f.a,{error:!0,children:[" ",t.policy," "]}),Object(R.jsx)(b.a,{sx:{py:2},children:Object(R.jsx)(g.a,{color:"primary",disabled:n,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Sign up now"})})]})}})})})]})},Ee=function(){return Object(R.jsx)("div",{children:"Settings"})},We=a(204),_e=a(103),Pe=function(e){return{type:"GET_USERS",users:e}},Fe=function(e){return{type:"UPDATE_USER",updatedInfo:e}},Ue=a(460),Re=Object(ne.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),margin:"auto",maxWidth:500},image:{width:128,height:128},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"},avatar:{marginRight:e.spacing(2),backgroundColor:Ue.a[500],width:e.spacing(10),height:e.spacing(10)}}})),ze=function(){var e,t,a,r,n,i,c,s=JSON.parse(localStorage.getItem("profile")),l=Re(),d=Object(o.b)();return Object(R.jsxs)("div",{className:l.root,children:[Object(R.jsxs)(u.a,{children:[" ",Object(R.jsx)("title",{children:"Account"})," "]}),Object(R.jsx)(We.a,{className:l.paper,children:Object(R.jsxs)(Y.a,{container:!0,spacing:2,children:[Object(R.jsx)(Y.a,{item:!0,children:Object(R.jsx)(_e.a,{className:l.image,children:Object(R.jsx)(Z.a,{className:l.avatar,alt:null===s||void 0===s||null===(e=s.result)||void 0===e?void 0:e.name,src:null===s||void 0===s||null===(t=s.result)||void 0===t?void 0:t.photo,children:null===s||void 0===s||null===(a=s.result)||void 0===a?void 0:a.fullName.charAt(0).toUpperCase()})})}),Object(R.jsx)(j.a,{enableReinitialize:!0,initialValues:{email:String(null===s||void 0===s||null===(r=s.result)||void 0===r?void 0:r.email),firstName:String(null===s||void 0===s||null===(n=s.result)||void 0===n?void 0:n.firstName),lastName:String(null===s||void 0===s||null===(i=s.result)||void 0===i?void 0:i.lastName),company:String(null===s||void 0===s||null===(c=s.result)||void 0===c?void 0:c.company)},validationSchema:m.b().shape({email:m.d().email("Must be a valid email").max(255).required("Email is required"),firstName:m.d().max(255).required("First name is required"),lastName:m.d().max(255).required("Last name is required"),company:m.d().max(255).required("Company is required")}),onSubmit:function(e,t){var a,r;t.resetForm;d((a=s.result._id,r=e,function(){var e=Object(w.a)(y.a.mark((function e(t){var n,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(a,r);case 3:n=e.sent,i=n.data,t(Fe(i.result)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("updateUserAction",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))},children:function(e){var t=e.errors,a=e.handleBlur,r=e.handleChange,n=e.isSubmitting,i=e.touched,c=e.values,o=e.handleSubmit;return Object(R.jsxs)("form",{onSubmit:o,children:[Object(R.jsx)(x.a,{disabled:!0,error:Boolean(i.company&&t.company),fullWidth:!0,helperText:i.company&&t.company,label:"company",margin:"normal",name:"company",onBlur:a,onChange:r,type:"company",value:c.company,variant:"outlined"}),Object(R.jsx)(x.a,{disabled:!0,error:Boolean(i.email&&t.email),fullWidth:!0,helperText:i.email&&t.email,label:"Email Address",margin:"normal",name:"email",onBlur:a,onChange:r,type:"email",value:c.email,variant:"outlined"}),Object(R.jsx)(x.a,{error:Boolean(i.firstName&&t.firstName),fullWidth:!0,helperText:i.firstName&&t.firstName,label:"First Name",margin:"normal",name:"firstName",onBlur:a,onChange:r,type:"firstName",value:c.firstName,variant:"outlined"}),Object(R.jsx)(x.a,{error:Boolean(i.lastName&&t.lastName),fullWidth:!0,helperText:i.lastName&&t.lastName,label:"Last name",margin:"normal",name:"lastName",onBlur:a,onChange:r,type:"lastName",value:c.lastName,variant:"outlined"}),Boolean(i.policy&&t.policy)&&Object(R.jsxs)(f.a,{error:!0,children:[" ",t.policy," "]}),Object(R.jsx)(b.a,{sx:{py:2},children:Object(R.jsx)(g.a,{color:"primary",disabled:n,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Update"})})]})}})]})})]})},Le=a(130),Ge=a.n(Le),Me=a(461),Je=a(476),He=a(462),Ve=function(e){return{type:"CREATE_TASK",formData:e}},Ke=function(e){return{type:"UPDATE_TASK",formData:e}},Xe=function(e){return{type:"GET_TASKS",tasks:e}},Qe=Object(ne.a)((function(e){return{button:{marginBottom:e.spacing(1)},closeButton:{marginTop:e.spacing(1)}}})),Ye=function(e){var t,a,n,i=e.handleClose,c=Qe(),s=Object(o.b)(),d=Object(r.useState)(JSON.parse(localStorage.getItem("profile"))),p=Object(l.a)(d,2),O=p[0],v=(p[1],Object(o.c)((function(e){return e.users}))),N=function(){i()};return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(u.a,{children:[" ",Object(R.jsx)("title",{children:"Create a new task"})," "]}),Object(R.jsxs)(We.a,{elevation:3,children:[Object(R.jsx)(be.a,{title:"Close","aria-label":"add",onClick:N,className:c.closeButton,children:Object(R.jsx)(pe.a,{color:"secondary",className:c.fab,children:Object(R.jsx)(Me.a,{})})}),Object(R.jsx)(b.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(R.jsx)(h.a,{maxWidth:"sm",children:Object(R.jsx)(j.a,{enableReinitialize:!0,initialValues:{taskTitle:"",taskDescription:"",urgency:"",creatorId:null===O||void 0===O||null===(t=O.result)||void 0===t?void 0:t._id,creatorName:null===O||void 0===O||null===(a=O.result)||void 0===a?void 0:a.fullName,company:null===O||void 0===O||null===(n=O.result)||void 0===n?void 0:n.company,createdFor:"",email:""},validationSchema:m.b().shape({taskTitle:m.d().max(255).required("Task title is required"),taskDescription:m.d().max(255).required("Task description is required"),urgency:m.d().max(255).required("Urgency is required"),createdFor:m.d().max(255).required("Created For is required"),email:m.d().email("Must be a valid email").max(255).required("Email is required")}),onSubmit:function(e,t){var a,r=t.resetForm;s((a=e,function(){var e=Object(w.a)(y.a.mark((function e(t){var r,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(a);case 3:r=e.sent,n=r.data,t(Ve(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("createTaskAction",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),N(),r({values:""})},children:function(e){var t=e.errors,a=e.handleBlur,r=e.handleChange,n=(e.isSubmitting,e.touched),i=e.values,o=e.handleSubmit;return Object(R.jsxs)("form",{onSubmit:o,children:[Object(R.jsx)(x.a,{error:Boolean(n.taskTitle&&t.taskTitle),fullWidth:!0,helperText:n.taskTitle&&t.taskTitle,label:"Task Title",margin:"normal",name:"taskTitle",onBlur:a,onChange:r,value:i.taskTitle,variant:"outlined"}),Object(R.jsx)(x.a,{error:Boolean(n.taskDescription&&t.taskDescription),fullWidth:!0,helperText:n.taskDescription&&t.taskDescription,label:"Task Description",margin:"normal",name:"taskDescription",onBlur:a,onChange:r,multiline:!0,rows:4,value:i.taskDescription,variant:"outlined"}),Object(R.jsxs)(x.a,{error:Boolean(n.urgency&&t.urgency),fullWidth:!0,helperText:n.urgency&&t.urgency,label:"Urgency",margin:"normal",name:"urgency",onBlur:a,onChange:r,select:!0,value:i.urgency,variant:"outlined",children:[Object(R.jsx)(He.a,{value:"Not urgent",children:" Not urgent "},"Not urgent"),Object(R.jsx)(He.a,{value:"Urgent",children:" Urgent "},"Urgent"),Object(R.jsx)(He.a,{value:"Immediately",children:" Immediately "},"Immediately"),"))"]}),Object(R.jsx)(x.a,{error:Boolean(n.createdFor&&t.createdFor),fullWidth:!0,helperText:n.createdFor&&t.createdFor,label:"Created For",margin:"normal",name:"createdFor",onBlur:a,onChange:r,select:!0,value:i.createdFor,variant:"outlined",children:v.map((function(e){return i.email=e.email,Object(R.jsxs)(He.a,{value:e.fullName,children:[" ",e.fullName," "]},e.fullName)}))}),Boolean(n.policy&&t.policy)&&Object(R.jsxs)(f.a,{error:!0,children:[" ",t.policy," "]}),Object(R.jsx)(b.a,{sx:{py:2},children:Object(R.jsx)(g.a,{color:"primary",fullWidth:!0,size:"large",type:"submit",variant:"contained",className:c.button,children:"Create Task"})})]})}})})})]})]})},Ze=Object(ne.a)((function(e){return{fab:{margin:e.spacing(2)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),$e=function(){var e=Ze(),t=Object(r.useState)(!1),a=Object(l.a)(t,2),n=a[0],i=a[1];return Object(R.jsxs)("div",{children:[Object(R.jsx)(be.a,{title:"Add","aria-label":"add",onClick:function(){i(!n)},children:Object(R.jsx)(pe.a,{color:"primary",className:e.fab,children:Object(R.jsx)(he.a,{})})}),Object(R.jsx)(Je.a,{className:e.backdrop,open:n,children:Object(R.jsx)(Ye,{handleClose:function(){i(!1)}})})]})},et=function(e){return{type:"UPDATE_TASK_ID",id:e}},tt=Object(ne.a)((function(e){return{large:{width:e.spacing(7),height:e.spacing(7)},root:{height:180},wrapper:{width:100+e.spacing(2)},paper:{zIndex:1,position:"relative",margin:e.spacing(1)},svg:{width:100,height:100},polygon:{fill:e.palette.common.white,stroke:e.palette.divider,strokeWidth:1},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),at=function(e){var t=e.creator,a=e.title,r=e.description,n=e.urgency,i=e.status,c=e.createdFor,s=e.id,l=e.handleToggle,d=tt(),u=Object(o.b)();return Object(R.jsx)(ve.a,{className:d.tableContainer,onClick:function(){u(et(s))},children:Object(R.jsxs)(ye.a,{hover:!0,onClick:l,children:[Object(R.jsx)(we.a,{children:Object(R.jsx)(Z.a,{alt:t,src:M,className:d.large})}),Object(R.jsx)(we.a,{children:Object(R.jsx)(p.a,{children:t})}),Object(R.jsx)(we.a,{children:Object(R.jsx)(p.a,{children:a})}),Object(R.jsx)(we.a,{children:Object(R.jsx)(p.a,{children:r})}),Object(R.jsx)(we.a,{children:Object(R.jsx)(p.a,{children:n})}),Object(R.jsx)(we.a,{children:Object(R.jsx)(p.a,{children:i})}),Object(R.jsx)(we.a,{children:Object(R.jsx)(p.a,{children:c})})]})})},rt=Object(ne.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},closeButton:{marginTop:e.spacing(1)},updateButton:{marginBottom:e.spacing(1)},container:{marginRight:e.spacing(1)},gridContainer:{display:"flex",justifyContent:"space-between"}}})),nt=function(){var e=Object(o.b)(),t=rt(),a=Object(o.c)((function(e){return e.tasks})),r=Object(o.c)((function(e){return e.tasks.filter((function(t){return t._id===e.updateTaskId.updateTaskId}))[0]})),i=n.a.useState(!1),c=Object(l.a)(i,2),s=c[0],d=c[1],u=function(){d(!1)},p=function(){d(!s)},O=function(){u()};return Object(R.jsxs)(b.a,{container:!0,children:[Object(R.jsx)(Y.a,{element:!0,align:"center",children:Object(R.jsx)($e,{})}),Object(R.jsx)(Y.a,{children:Object(R.jsx)(Ce.a,{children:Object(R.jsx)(ge.a,{children:Object(R.jsx)(Se.a,{children:Object(R.jsxs)(Te.a,{children:[Object(R.jsx)(Be.a,{children:Object(R.jsxs)(ye.a,{children:[Object(R.jsx)(we.a,{children:"Photo"}),Object(R.jsx)(we.a,{children:"Creator"}),Object(R.jsx)(we.a,{children:"Title"}),Object(R.jsx)(we.a,{children:"Description"}),Object(R.jsx)(we.a,{children:"Urgency"}),Object(R.jsx)(we.a,{children:"Status"}),Object(R.jsx)(we.a,{children:"Created For"})]})}),a?null===a||void 0===a?void 0:a.map((function(e){return Object(R.jsx)(at,{handleToggle:p,id:e._id,photo:null===e||void 0===e?void 0:e.creatorPhoto,creator:null===e||void 0===e?void 0:e.creatorName,title:null===e||void 0===e?void 0:e.title,description:null===e||void 0===e?void 0:e.description,urgency:null===e||void 0===e?void 0:e.urgency,status:null===e||void 0===e?void 0:e.status,createdFor:null===e||void 0===e?void 0:e.createdFor},e._id)})):null]})})})})}),Object(R.jsx)(Y.a,{children:Object(R.jsx)("div",{children:Object(R.jsx)(Je.a,{className:t.backdrop,open:s,children:Object(R.jsxs)(We.a,{elevation:3,align:"center",children:[Object(R.jsx)(be.a,{title:"Close","aria-label":"add",onClick:O,className:t.closeButton,children:Object(R.jsx)(pe.a,{color:"secondary",children:Object(R.jsx)(Me.a,{onClick:u})})}),Object(R.jsx)(b.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(R.jsx)(h.a,{maxWidth:"sm",children:Object(R.jsx)(j.a,{enableReinitialize:!0,initialValues:{creatorName:String(null===r||void 0===r?void 0:r.creatorName),company:String(null===r||void 0===r?void 0:r.company),taskDescription:String(null===r||void 0===r?void 0:r.description),createdAt:Ge()(null===r||void 0===r?void 0:r.createdAt).format("lll"),createdAtFromNow:Ge()(null===r||void 0===r?void 0:r.createdAt).fromNow(),title:String(null===r||void 0===r?void 0:r.title),urgency:String(null===r||void 0===r?void 0:r.urgency),status:String(null===r||void 0===r?void 0:r.status),comment:String(null===r||void 0===r?void 0:r.comment)},validationSchema:m.b().shape({creatorName:m.d().max(255).required("Creator Name is required"),company:m.d().max(255).required("Company is required"),taskDescription:m.d().max(255).required("Task Description is required"),createdAt:m.d().max(255).required("Created at is required"),createdAtFromNow:m.d().max(255).required("Created at is required"),title:m.d().max(255).required("Title is required"),urgency:m.d().max(255).required("Urgency is required"),status:m.d().max(255).required("Status is required"),comment:m.d().max(255).required("comment is required")}),onSubmit:function(t,a){var n,i,c=a.resetForm;e((n=t,i=r._id,function(){var e=Object(w.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(n,i);case 3:a=e.sent,r=a.data,t(Ke(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("updateTaskAction",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),O(),c({values:""})},children:function(e){var a=e.errors,r=e.handleBlur,n=e.handleChange,i=(e.isSubmitting,e.touched),c=e.values,o=e.handleSubmit;return Object(R.jsxs)("form",{onSubmit:o,children:[Object(R.jsxs)(Y.a,{container:!0,className:t.gridContainer,children:[Object(R.jsx)(Y.a,{item:!0,children:Object(R.jsx)(x.a,{disabled:!0,error:Boolean(i.creatorName&&a.creatorName),fullWidth:!0,helperText:i.creatorName&&a.creatorName,label:"Creator Name",margin:"normal",name:"creatorName",onBlur:r,onChange:n,value:c.creatorName,variant:"outlined"})}),Object(R.jsx)(Y.a,{item:!0,children:Object(R.jsx)(x.a,{disabled:!0,error:Boolean(i.company&&a.company),fullWidth:!0,helperText:i.company&&a.company,label:"Company",margin:"normal",name:"company",onBlur:r,onChange:n,value:c.company,variant:"outlined"})}),Object(R.jsx)(Y.a,{item:!0,children:Object(R.jsx)(x.a,{disabled:!0,error:Boolean(i.createdAt&&a.createdAt),fullWidth:!0,helperText:i.createdAt&&a.createdAt,label:"Created At",margin:"normal",name:"createdAt",onBlur:r,onChange:n,value:c.createdAt,variant:"outlined"})}),Object(R.jsx)(Y.a,{item:!0,children:Object(R.jsx)(x.a,{disabled:!0,error:Boolean(i.createdAtFromNow&&a.createdAtFromNow),fullWidth:!0,helperText:i.createdAtFromNow&&a.createdAtFromNow,label:"Created At",margin:"normal",name:"createdAtFromNow",onBlur:r,onChange:n,value:c.createdAtFromNow,variant:"outlined"})})]}),Object(R.jsx)(x.a,{error:Boolean(i.title&&a.title),disabled:!0,fullWidth:!0,helperText:i.title&&a.title,label:"Title",margin:"normal",name:"title",onBlur:r,onChange:n,multiline:!0,value:c.title,variant:"outlined"}),Object(R.jsx)(x.a,{error:Boolean(i.taskDescription&&a.taskDescription),disabled:!0,fullWidth:!0,helperText:i.taskDescription&&a.taskDescription,label:"Task Description",margin:"normal",name:"taskDescription",onBlur:r,onChange:n,multiline:!0,rows:4,value:c.taskDescription,variant:"outlined"}),Object(R.jsx)(x.a,{error:Boolean(i.comment&&a.comment),fullWidth:!0,helperText:i.comment&&a.comment,label:"Comment",margin:"normal",name:"comment",onBlur:r,onChange:n,multiline:!0,rows:4,value:"undefined"!==c.comment?c.comment:"",variant:"outlined"}),Object(R.jsx)(x.a,{error:Boolean(i.urgency&&a.urgency),disabled:!0,fullWidth:!0,helperText:i.urgency&&a.urgency,label:"Urgency",margin:"normal",name:"urgency",onBlur:r,onChange:n,multiline:!0,value:c.urgency,variant:"outlined"}),Object(R.jsxs)(x.a,{error:Boolean(i.status&&a.status),fullWidth:!0,helperText:i.status&&a.status,label:"Status",margin:"normal",name:"status",onBlur:r,onChange:n,select:!0,value:"undefined"!==c.status?c.comment:"",variant:"outlined",children:[Object(R.jsx)(He.a,{value:"Not in progress",children:" Not in progress "},"Not in progress"),Object(R.jsx)(He.a,{value:"In progress",children:" In progress "},"In progress"),Object(R.jsx)(He.a,{value:"Done",children:" Done "},"Done")]}),Boolean(i.policy&&a.policy)&&Object(R.jsxs)(f.a,{error:!0,children:[" ",a.policy," "]}),Object(R.jsx)(b.a,{sx:{py:2},children:Object(R.jsx)(g.a,{color:"primary",fullWidth:!0,size:"large",type:"submit",variant:"contained",className:t.updateButton,children:"Update task"})})]})}})})})]})})})})]})},it=a(199),ct=a.n(it),ot=function(e){return{type:"CREATE_CHAT",chatData:e}},st=function(e){return{type:"GET_CHAT",chat:e}},lt=a(200),dt=a.n(lt),ut=Object(ne.a)((function(e){return{paper:{padding:e.spacing(2),margin:"auto",maxWidth:500,marginTop:e.spacing(1)},mainGrid:{width:"100vh"},innerGrid:{}}})),jt=function(e){var t=e.name,a=e.message,r=ut();return Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(We.a,{className:r.paper,children:Object(R.jsxs)(Y.a,{container:!0,spacing:2,className:r.mainGrid,children:[Object(R.jsxs)(Y.a,{item:!0,className:r.innerGrid,children:[" ",t," "]}),Object(R.jsxs)(Y.a,{item:!0,children:[" ",a," "]})]})})})},mt=(a(406),function(){var e=Object(o.c)((function(e){return e.chat}));return Object(R.jsx)(dt.a,{className:"messages",children:e.map((function(e){var t;return Object(R.jsx)(jt,{name:null===(t=e.user)||void 0===t?void 0:t.fullName,message:e.message})}))})}),ht=Object(ne.a)((function(e){return{textField:{width:"50vh"}}})),bt=function(){var e=Object(o.b)(),t=ht(),a=JSON.parse(localStorage.getItem("profile"));return Object(R.jsx)(j.a,{enableReinitialize:!0,initialValues:{message:""},validationSchema:m.b().shape({message:m.d().max(255).required("Message is required")}),onSubmit:function(t,r){var n,i=r.resetForm,c={room:a.result.company,user:a.result,message:t.message};C.emit("send_message",c),e((n=c,function(){var e=Object(w.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(n);case 3:a=e.sent,r=a.data,t(ot(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("createChatAction",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),i({values:""})},children:function(e){var a=e.errors,r=e.handleBlur,n=e.handleChange,i=(e.isSubmitting,e.touched),c=e.values,o=e.handleSubmit;return Object(R.jsxs)("form",{onSubmit:o,children:[Object(R.jsx)(x.a,{className:t.textField,fullWidth:!0,helperText:i.message&&a.message,placeholder:"New Message",margin:"normal",name:"message",onBlur:r,onChange:n,type:"message",value:c.message,variant:"outlined"}),Boolean(i.policy&&a.policy)&&Object(R.jsxs)(f.a,{error:!0,children:[" ",a.policy," "]}),Object(R.jsx)(b.a,{sx:{py:2},children:Object(R.jsx)(g.a,{color:"primary",fullWidth:!0,size:"large",type:"submit",variant:"contained",children:" Send "})})]})}})},pt=(a(407),function(){var e=Object(o.b)(),t=JSON.parse(localStorage.getItem("profile"));return Object(r.useEffect)((function(){(C=ct()("localhost:5000")).emit("join_room",t.result.company)}),[t.result.company]),Object(r.useEffect)((function(){C.on("receive_message",(function(t){e(ot(t))}))})),Object(r.useEffect)((function(){var a;e((a=t.result.company,function(){var e=Object(w.a)(y.a.mark((function e(t){var r,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(a);case 3:r=e.sent,n=r.data,t(st(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("getChatAction",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))}),[t.result.company,e]),Object(R.jsxs)("div",{className:"outerContainer",children:[Object(R.jsx)("div",{className:"container",children:Object(R.jsx)(mt,{})}),Object(R.jsx)("div",{children:Object(R.jsx)(bt,{})})]})}),xt=Object(ne.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)},link:{textDecoration:"none"},avatar:{marginRight:e.spacing(2),backgroundColor:Ue.a[500],width:e.spacing(10),height:e.spacing(10)},fullName:{marginRight:e.spacing(2)},profileLogo:{alignContent:"center",marginTop:e.spacing(2),alignItems:"center",display:"flex",flexDirection:"column",cursor:"pointer"},profileName:{alignContent:"center",marginTop:e.spacing(2),alignItems:"center",display:"flex",flexDirection:"column",cursor:"pointer"},nested:{paddingLeft:e.spacing(4)}}})),Ot=function(){var e,t,a,n,i=xt(),c=Object(d.g)(),o=[je,ue,oe,de,se,le],u=Object(r.useState)(JSON.parse(localStorage.getItem("profile"))),j=Object(l.a)(u,2),m=j[0];j[1];return Object(R.jsxs)("div",{className:i.root,children:[Object(R.jsx)(V.a,{}),Object(R.jsxs)(K.a,{className:i.drawer,variant:"permanent",classes:{paper:i.drawerPaper},children:[Object(R.jsx)(X.a,{}),Object(R.jsxs)("div",{className:i.drawerContainer,children:[Object(R.jsx)(Q.a,{}),Object(R.jsx)(Y.a,{className:i.profileLogo,children:Object(R.jsx)(Z.a,{component:s.b,to:"/main/account",className:i.avatar,alt:null===m||void 0===m||null===(e=m.result)||void 0===e?void 0:e.name,src:null===m||void 0===m||null===(t=m.result)||void 0===t?void 0:t.photo,children:null===m||void 0===m||null===(a=m.result)||void 0===a?void 0:a.fullName.charAt(0).toUpperCase()})}),Object(R.jsx)(Y.a,{className:i.profileName,children:Object(R.jsx)(p.a,{className:i.fullName,variant:"h6",children:null===m||void 0===m||null===(n=m.result)||void 0===n?void 0:n.fullName})}),["Task","Chat","Employees","Register"].map((function(e,t){return c.location.pathname.split("/")[2]===e.toLowerCase()?Object(R.jsx)($.a,{children:Object(R.jsxs)(ee.a,{selected:!0,className:i.link,button:!0,component:s.b,to:"/main/".concat(e.toLowerCase()),children:[Object(R.jsx)(te.a,{children:o[t]}),Object(R.jsx)(ae.a,{primary:e})]})},e):Object(R.jsx)($.a,{children:Object(R.jsxs)(ee.a,{className:i.link,button:!0,component:s.b,to:"/main/".concat(e.toLowerCase()),children:[Object(R.jsx)(te.a,{children:o[t]}),Object(R.jsx)(ae.a,{primary:e})]})},e)}))]})]}),Object(R.jsxs)("main",{className:i.content,children:[Object(R.jsx)(X.a,{}),Object(R.jsxs)(d.d,{children:[Object(R.jsx)(d.b,{path:"/main/task",render:function(){return Object(R.jsx)(nt,{})}}),Object(R.jsx)(d.b,{path:"/main/chat",render:function(){return Object(R.jsx)(pt,{})}}),Object(R.jsx)(d.b,{path:"/main/employees",render:function(){return Object(R.jsx)(Ae,{})}}),Object(R.jsx)(d.b,{path:"/main/account",render:function(){return Object(R.jsx)(ze,{})}}),Object(R.jsx)(d.b,{path:"/main/register",render:function(){return Object(R.jsx)(De,{})}}),Object(R.jsx)(d.b,{path:"/main/RegistrationSuccess",render:function(){return Object(R.jsx)(ce,{})}}),Object(R.jsx)(d.b,{path:"/main/settings",render:function(){return Object(R.jsx)(Ee,{})}})]})]})]})},ft=a(201),gt=a(468),vt=a(447),yt=a(478),wt=Object(ne.a)((function(e){return Object(yt.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},logo:{width:40},avatar:{marginRight:e.spacing(2),backgroundColor:Ue.a[500]},fullName:{marginRight:e.spacing(2)},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0}})})),Nt=function(){var e=wt(),t=Object(d.g)(),a=Object(o.b)(),n=Object(r.useState)(JSON.parse(localStorage.getItem("profile"))),i=Object(l.a)(n,2),c=i[0],s=i[1],u=Object(d.h)();return Object(r.useEffect)((function(){return a(F(c))})),Object(r.useEffect)((function(){var e=null===c||void 0===c?void 0:c.token;e&&(1e3*Object(ft.a)(e).exp<(new Date).getTime()&&a(U()));s(JSON.parse(localStorage.getItem("profile")))}),[u,null===c||void 0===c?void 0:c.token]),Object(r.useEffect)((function(){var e,t;return a((t=null===c||void 0===c||null===(e=c.result)||void 0===e?void 0:e.company,function(){var e=Object(w.a)(y.a.mark((function e(a){var r,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(t);case 3:r=e.sent,n=r.data,a(Pe(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("getUsersAction",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))})),Object(r.useEffect)((function(){var e,t;return a((t=null===c||void 0===c||null===(e=c.result)||void 0===e?void 0:e.company,function(){var e=Object(w.a)(y.a.mark((function e(a){var r,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(t);case 3:r=e.sent,n=r.data,a(Xe(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("getTasksAction",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))})),Object(R.jsx)("div",{className:e.root,children:Object(R.jsx)(gt.a,{position:"fixed",className:e.appBar,children:Object(R.jsxs)(X.a,{children:[Object(R.jsx)(vt.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(R.jsx)("img",{src:M,alt:"logo",className:e.logo,onClick:function(){t.push("/main/".concat(c.result.company.split(" ").join("").toLowerCase()))}})}),Object(R.jsx)(p.a,{variant:"h6",className:e.title,children:" CRM "}),Object(R.jsx)(g.a,{variant:"contained",color:"secondary",onClick:function(){localStorage.removeItem("profile"),a(U()),t.push("/home")},children:"Log out"})]})})})},kt=function(){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(Nt,{}),Object(R.jsx)(Ot,{})]})},Ct=function(){var e=Object(r.useState)(JSON.parse(localStorage.getItem("profile"))),t=Object(l.a)(e,2),a=t[0];t[1];return Object(R.jsxs)(d.d,{children:[Object(R.jsx)(d.b,{exact:!0,path:"/",render:function(){return(null===a||void 0===a?void 0:a.token)?Object(R.jsx)(d.a,{to:"/main"}):Object(R.jsx)(d.a,{to:"/home"})}}),Object(R.jsx)(d.b,{path:"/home",render:function(){return Object(R.jsx)(H,{})}}),Object(R.jsx)(d.b,{path:"/main",render:function(){return Object(R.jsx)(kt,{})}})]})},St=a(68),Tt=a(202),Bt={result:{},token:""},At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_UP":case"SIGN_IN":return localStorage.setItem("profile",JSON.stringify(Object(Ie.a)({},t.formData))),Object(Ie.a)(Object(Ie.a)({},e),t.formData);case"UPDATE_USER":return Object(Ie.a)(Object(Ie.a)({},e),{},{result:Object(Ie.a)(Object(Ie.a)({},e.result),t.updatedInfo)});case"LOGOUT":return{result:{},token:""};default:return Object(Ie.a)({},e)}},It=a(11),qt=[],Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_TASK":return[].concat(Object(It.a)(e),[Object(Ie.a)({},t.formData)]);case"GET_TASKS":return Object(It.a)(t.tasks);case"UPDATE_TASK":var a=e.map((function(e){return e._id===t.formData._id})).indexOf(!0),r=Object(It.a)(e);return r.splice(a,1,t.formData),Object(It.a)(r);case"LOGOUT":return[];default:return Object(It.a)(e)}},Et=[],Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS":return Object(It.a)(t.users);case"LOGOUT":return[];default:return Object(It.a)(e)}},_t={updateTaskId:""},Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TASK_ID":return Object(Ie.a)(Object(Ie.a)({},e),{},{updateTaskId:t.id});case"LOGOUT":return{updateTaskId:""};default:return Object(Ie.a)({},e)}},Ft=[],Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_CHAT":return[].concat(Object(It.a)(e),[t.chatData]);case"GET_CHAT":return[].concat(Object(It.a)(e),Object(It.a)(t.chat));case"LOGOUT":return[];default:return Object(It.a)(e)}},Rt=Object(St.c)({auth:At,tasks:Dt,users:Wt,updateTaskId:Pt,chat:Ut}),zt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||St.d,Lt=Object(St.e)(Rt,zt(Object(St.a)(Tt.a)));window.__store__=Lt;var Gt=Lt;c.a.render(Object(R.jsx)(s.a,{children:Object(R.jsx)(o.a,{store:Gt,children:Object(R.jsx)(Ct,{})})}),document.getElementById("root"))}},[[408,1,2]]]);
//# sourceMappingURL=main.ad65b3c5.chunk.js.map